<h2 mat-dialog-title *ngIf="!editMode">{{'STAFF.POPUP.NEW' | translate}}</h2>
<h2 mat-dialog-title *ngIf="editMode">{{'STAFF.POPUP.EDIT' | translate}}</h2>
<mat-dialog-content class="mat-typography" >
    <form [formGroup]="staffForm">
        <div fxLayout="column" fxLayoutAlign="start none" fxLayoutWrap style="width: 100%;height: 100%">
            
            <div fxLayout.md="row wrap" fxLayoutAlign="start none" fxLayout.lt-md="column" fxLayoutGap="5px">
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>{{'STAFF.POPUP.NAME' | translate}}</mat-label>
                    <mat-icon matSuffix>person</mat-icon>
                    <input matInput placeholder="{{'STAFF.POPUP.NAME' | translate}}" formControlName="name" [(ngModel)]="staff.name" required>
                    <mat-error *ngIf="isControlHasError('name','required')">
                        <strong>{{ 'STAFF.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
                    </mat-error>
                </mat-form-field>
    
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>{{'STAFF.POPUP.SURNAME' | translate}}</mat-label>
                    <mat-icon matSuffix>person</mat-icon>
                    <input matInput placeholder="{{'STAFF.POPUP.SURNAME' | translate}}" formControlName="surname" [(ngModel)]="staff.surname" required>
                    <mat-error *ngIf="isControlHasError('surname','required')">
                        <strong>{{ 'STAFF.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
                    </mat-error>
               </mat-form-field>
            </div>

            <div fxLayout.md="row wrap" fxLayoutAlign="start none" fxLayout.lt-md="column" fxLayoutGap="5px">
                <mat-form-field  appearance="outline" fxFlex>
                    <mat-label>{{'STAFF.POPUP.DEPARTMANT' | translate}}</mat-label>
                    <mat-icon matSuffix>business</mat-icon>
                    <input matInput placeholder="{{'STAFF.POPUP.DEPARTMANT' | translate}}" formControlName="department" [(ngModel)]="staff.department">
                    <mat-error *ngIf="isControlHasError('department','required')">
                        <strong>{{ 'STAFF.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
                    </mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>{{'STAFF.POPUP.POSITION' | translate}}</mat-label>
                    <mat-icon matSuffix>work_outline</mat-icon>
                    <input matInput placeholder="{{'STAFF.POPUP.POSITION' | translate}}" formControlName="position" [(ngModel)]="staff.position">
                    <mat-error *ngIf="isControlHasError('position','required')">
                        <strong>{{ 'STAFF.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
                    </mat-error>
               </mat-form-field>
            </div>
       
            <div fxLayout.md="row wrap" fxLayoutAlign="start none" fxLayout.lt-md="column" fxLayoutGap="5px">
                <mat-form-field  appearance="outline" fxFlex>
                    <mat-label>{{'STAFF.POPUP.ABYS' | translate}}</mat-label>
                    <input matInput placeholder="{{'STAFF.POPUP.ABYS' | translate}}" formControlName="abysCode" [(ngModel)]="staff.abysCode">
                    <mat-error *ngIf="isControlHasError('abysCode','required')">
                        <strong>{{ 'STAFF.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
                    </mat-error>
                </mat-form-field>
                
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>{{'STAFF.POPUP.PHONE' | translate}}</mat-label>
                    <input   matInput  placeholder="{{'STAFF.POPUP.PHONE' | translate}}"  formControlName="phone" [(ngModel)]="staff.phone" [textMask]="{mask: phoneMask}">
                  
                    <mat-icon matSuffix>local_phone</mat-icon> 
                
                    <mat-error  *ngIf="isControlHasError('phone','required')">
                        <strong>{{ 'STAFF.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
                    </mat-error>
                </mat-form-field>

            </div>
            <div fxLayout.md="row wrap" fxLayoutAlign="start none" fxLayout.lt-md="column" fxLayoutGap="5px">
                <mat-form-field appearance="outline" fxFlex>
                    <mat-label>{{'STAFF.POPUP.E-MAIL' | translate}}</mat-label>
                    <mat-icon matSuffix>work_outline</mat-icon>
                    <input matInput placeholder="{{'STAFF.POPUP.E-MAIL' | translate}}" formControlName="email" [(ngModel)]="staff.email">
                    <mat-error *ngIf="isControlHasError('email','required')">
                        <strong>{{ 'STAFF.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
                    </mat-error>
               </mat-form-field>
               <mat-form-field appearance="outline" fxFlex>
                <mat-icon matSuffix>gps_fixed</mat-icon>
                <mat-label>{{'STAFF.POPUP.IS_TRACKING_ENABLE' | translate}}</mat-label>
                <mat-select formControlName="isTrackingEnable" [(ngModel)]="staff.isTrackingEnable" disableOptionCentering>
                    <mat-option [value]="true">{{'STAFF.POPUP.ACTIVE' | translate }}</mat-option>
                    <mat-option [value]="false">{{'STAFF.POPUP.INACTIVE' | translate }}</mat-option>
                </mat-select>
                <mat-error *ngIf="isControlHasError('isTrackingEnable','required')">
                    <strong>{{ 'STAFF.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
                </mat-error>
            </mat-form-field>
            </div>          
        </div>      
    </form>
</mat-dialog-content>

<div mat-dialog-actions align="end">
    <button mat-button (click)="onNoClick()">{{'STAFF.POPUP.CANCEL' | translate }}</button>
    <button mat-button [disabled]="staffForm.invalid || staffForm.pristine" (click)="saveStaff()">{{'STAFF.POPUP.SAVE' | translate }}</button>
  </div>